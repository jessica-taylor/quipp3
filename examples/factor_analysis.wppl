
var repeat = function(n, fn) {
  return n == 0 ? [] : append(repeat(n - 1, fn), [fn(n-1)]);
};

testParamInference(function(randFunction) {

var nfactors = 1;
var dim = 5;

var n = 50;

var Factors = Vector(nfactors, Double);
var Point = Vector(dim, Double);
var getPoint = randFunction(Factors, Point);
return function() {
  return repeat(n, function(i) {
    var factors = randomValue(Factors);
    return observe('point' + i, getPoint, factors);
  });
};

},
{logPartitionParticles: 200}
);
